<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        secondary: '#10B981',
                        dark: '#1F2937',
                        light: '#F9FAFB'
                    }
                }
            }
        }
    </script>
    <style>
        .sidebar {
            transition: all 0.3s ease;
        }
        .sidebar.collapsed {
            width: 80px;
        }
        .sidebar.collapsed .nav-text {
            display: none;
        }
        .sidebar.collapsed ~ .main-content {
            margin-left: 80px;
        }
        .main-content {
            transition: all 0.3s ease;
        }
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: 100vh;
                position: fixed;
                z-index: 30;
                display: none;
            }
            .sidebar.show {
                display: block;
            }
            .main-content {
                margin-left: 0;
                padding-bottom: 80px;
            }
            .response-text {
                max-height: 100px;
                overflow-y: auto;
            }
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex flex-col md:flex-row">
        <!-- Mobile Header -->
        <div class="bg-dark text-white p-3 flex justify-between items-center md:hidden sticky top-0 z-20">
            <h1 class="text-lg font-bold">Admin</h1>
        </div>
        </div>

        <!-- Main Content -->
        <div class="main-content flex-1 p-4 md:p-6 md:mt-0">
            <!-- Header -->
            <div class="bg-white rounded-lg shadow p-4 mb-6 flex justify-between items-center">
                <div class="flex items-center">
                    <div class="flex items-center">
                        <img src="<%=user.perfil%>" alt="Admin" class="w-10 h-10 rounded-full mr-2">
                        <span class="text-gray-700 font-medium"><%=user.username%></span>
                    </div>
                </div>
            </div>

            <!-- Mobile Stats -->
            <div class="grid grid-cols-3 gap-2 mb-4 md:hidden">
                <div class="bg-white rounded-lg shadow p-3 text-center">
                    <p class="text-xs text-gray-500">Users</p>
                    <h3 class="text-lg font-bold"><%=users.length%></h3>
                </div>
                <div class="bg-white rounded-lg shadow p-3 text-center">
                    <p class="text-xs text-gray-500">Missions</p>
                    <h3 class="text-lg font-bold"><%=missions.length%></h3>
                </div>
                <div class="bg-white rounded-lg shadow p-3 text-center">
                    <p class="text-xs text-gray-500">Responses</p>
                    <h3 class="text-lg font-bold"><%=responses.length%></h3>
                </div>
            </div>

            <!-- Users Table -->
            <div class="bg-white rounded-lg shadow mb-6">
                <div class="p-4 border-b flex justify-between items-center">
                    <h2 class="text-xl font-semibold">Users Management</h2>
                </div>
                <div class="overflow-x-auto" style="max-height: 400px;">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <% users.forEach(element => {%>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="flex-shrink-0 h-10 w-10">
                                            <img src="<%=element.perfil%>" alt="" class="h-10 w-10 rounded-full">
                                        </div>
                                        <div class="ml-4">
                                            <div class="text-sm font-medium text-gray-900"><%=element.username%></div>
                                            <% try {%>
                                            <div class="text-sm text-gray-500"><%=element.data.nome%></div>
                                            <% } catch (err){%>
                                            <div class="text-sm text-gray-500">Sem Personagem Registrado</div>
                                            <%}%>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                    <a href="/edit/<%=element.password%>" style="color: none;"><button class="text-indigo-600 hover:text-indigo-900 mr-3">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    </a>
                                    <a href="/delete/<%=element.password%>" style="color: none;"><button class="text-red-600 hover:text-red-900">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    </a>
                                </td>
                            </tr>
                            <%})%>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Missions and Responses Cards -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- Missions Card -->
                <div class="bg-white rounded-lg shadow">
                    <div class="p-4 border-b" style="display: flex; justify-content: space-between; align-items: center;">
                        <h2 class="text-xl font-semibold">Recent Missions</h2>
                        <a href="/criar-missao"><button class="bg-primary" style="color: white; padding-top: 5px; padding-bottom: 5px; padding-left: 10px; padding-right: 10px; border-radius: 20px;">Criar Missão</button></a>
                    </div>
                        
                    <div class="p-4 space-y### Correction

I notice I accidentally cut off the Missions and Responses section. Let me complete that part and the rest of the dashboard:

```html
            <!-- Missions and Responses Cards -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- Missions Card -->
                <div class="bg-white rounded-lg shadow">
                    <div class="p-4 space-y-4">
                        <% missions.forEach(element =>{%>
                        <div class="flex items-start pb-4 border-b last:border-b-0" style="display: flex; justify-content: center;flex-direction: column;">
                            <div style="height: 150px; width: 100%; background: url(<%=element.imagem%>); background-size: cover; background-position: center; margin-bottom: 20px;"></div>
                            <div>
                                <h3 class="font-medium text-gray-900"><%=element.titulo%></h3>
                                <p class="text-sm text-gray-500"><%=element.descricao%></p>
                                <div class="mt-2">
                                    <span class="text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-800 ml-2">
                                        <%=element.pontos%> pts
                                    </span>
                                    <span class="text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 ml-2">
                                        <%=element.dinheiro%> moedas
                                    </span>
                                    <a href="/mission-delete/<%=element.titulo%>">
                                    <span class="text-xs px-2 py-1 rounded-full bg-red-100 text-red-800 ml-2">
                                        Deletar Missão
                                    </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <%});%>
                    </div>
                </div>

                <!-- Responses Card - Mobile -->
                <div class="bg-white rounded-lg shadow md:hidden">
                    <div class="sticky top-0 bg-white p-3 border-b flex justify-between items-center z-10">
                        <h2 class="text-lg font-semibold">Pending</h2>
                        <span class="text-xs bg-primary text-white px-2 py-1 rounded-full">
                            <%=responses.length%> pending
                        </span>
                    </div>
                    <div class="divide-y divide-gray-100">
                        <% responses.forEach(element => {%>
                        <div class="p-3">
                            <div class="flex items-start">
                                <div class="flex-1">
                                    <div class="flex justify-between items-start">
                                        
                                        <span class="text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800">
                                            <%=element.usuario%>
                                        </span>
                                    </div>
                                    <div class="mt-2 bg-gray-50 p-2 rounded text-sm">
                                        <%=element.missao%>
                                    </div>
                                    <div class="mt-2 grid grid-cols-2 gap-2">
                                        <a href="/revisar-missao/<%=element.missao%>/<%=element.usuario%>"> <button class="bg-green-50 text-green-600 p-2 rounded text-sm font-medium">
                                            Revisar
                                        </button>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <%});%>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Make response text expandable
        document.querySelectorAll('.response-text').forEach(el => {
            el.addEventListener('click', function() {
                this.style.maxHeight = this.style.maxHeight === 'none' ? '100px' : 'none';
            });
        });

        // Format dates for responses
        function formatDate(dateString) {
            const options = { day: 'numeric', month: 'short', hour: '2-digit', minute: '2-digit' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }

        // Sample data for recent activities (in a real app, this would come from backend)
        const recentActivities = [
            { icon: 'user-plus', action: 'New user registered', time: '5 minutes ago', color: 'green' },
            { icon: 'tasks', action: 'New mission created', time: '30 minutes ago', color: 'blue' },
            { icon: 'check-circle', action: 'Mission completed', time: '2 hours ago', color: 'purple' },
            { icon: 'comment', action: 'New response submitted', time: '5 hours ago', color: 'yellow' }
        ];

        // Dark mode toggle (placeholder - would need backend integration)
        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
        }
    </script>
</body>
</html>